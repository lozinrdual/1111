"use client"

import { useEffect, useRef, useState } from "react"

export function Hero() {
  const [animationKey, setAnimationKey] = useState(0)
  const [heroAnimationComplete, setHeroAnimationComplete] = useState(false)
  const heroRef = useRef(null)
  const svgRef = useRef(null)
  const [isDark, setIsDark] = useState(true)

  useEffect(() => {
    const checkTheme = () => {
      const htmlElement = document.documentElement
      const isDarkMode = htmlElement.classList.contains("dark")
      setIsDark(isDarkMode)
    }

    checkTheme()

    const observer = new MutationObserver(checkTheme)
    observer.observe(document.documentElement, { attributes: true, attributeFilter: ["class"] })

    return () => observer.disconnect()
  }, [])

  useEffect(() => {
    const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting) {
          setAnimationKey((prev) => prev + 1)

          setTimeout(() => {
            if (svgRef.current) {
              const letters = svgRef.current.querySelectorAll(".letter")
              letters.forEach((letter) => {
                letter.classList.add("animate")
              })
            }
          }, 10)

          setTimeout(() => {
            setHeroAnimationComplete(true)
          }, 1000)
        }
      },
      { threshold: 0.4 },
    )

    if (heroRef.current) {
      observer.observe(heroRef.current)
    }

    return () => observer.disconnect()
  }, [])

  useEffect(() => {
    if (heroAnimationComplete) {
      document.documentElement.setAttribute("data-hero-animated", "true")
    }
  }, [heroAnimationComplete])

  return (
    <section className="w-full bg-background transition-colors duration-300" ref={heroRef}>
      <style>{`
        @keyframes slideUpLetterSmooth {
          0% {
            opacity: 0;
            transform: translateY(100%);
          }
          100% {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .letter {
          opacity: 0;
        }

        .letter.animate {
          animation: slideUpLetterSmooth 0.8s cubic-bezier(0.33, 0, 0.2, 1) forwards;
        }

        .svg-container {
          transition: filter 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .svg-container.dark-theme {
          filter: none;
        }

        .svg-container.dark-theme:hover {
          filter: none;
        }

        .svg-container.light-theme {
          filter: none;
        }

        .svg-container.light-theme:hover {
          filter: none;
        }
      `}</style>

      {/* Desktop/Tablet Hero */}
      <div className="hidden md:flex py-24 md:pt-90 lg:pt-120 items-center justify-center overflow-hidden">
        <div className="w-full max-w-full px-3 md:px-6 lg:px-4 overflow-hidden">
          <svg
            ref={svgRef}
            viewBox="0 0 1821.88 405.45"
            xmlns="http://www.w3.org/2000/svg"
            className={`w-full h-auto svg-container ${isDark ? "dark-theme" : "light-theme"}`}
            preserveAspectRatio="xMidYMid meet"
            key={animationKey}
          >
            <defs>
              <style>{`
                .cls-1 { fill: ${isDark ? "#f9f9f9" : "#191919"}; }
                .cls-2 { fill: #ff5e17; }
              `}</style>
            </defs>
            <path
              className="cls-2"
              d="M148.6,283.96v99.08c-9.77-1.41-20.75-4.03-32.25-8.74-45.8-18.74-68.71-57.73-77.13-74.24l-17.96,29.17v-110.12c17.6-13.63,39.68-21.75,63.67-21.75,5.68,0,11.26.46,16.69,1.34-17.61,28.42-35.21,56.83-52.81,85.25,2.53,2.21,6.09,5.05,10.68,7.85,12.8,7.84,24.49,9.89,27.64,10.39,4.01.63,14.94,2,28.45-1.17,16.24-3.81,27.36-12.13,33.03-17.07Z"
            />
            <g>
              <g>
                <path className="cls-2" d="M715.82,378.13v-225.97h47.84v182.86h98.2v43.12h-146.03Z" />
                <path
                  className="cls-2"
                  d="M862.21,264.84c0-64.95,48.34-112.68,110.87-112.68s111.48,47.73,111.48,112.68-48.64,113.29-111.48,113.29-110.87-48.34-110.87-113.29ZM1037.12,264.84c0-39.88-24.17-71.6-64.05-71.6s-63.74,31.72-63.74,71.6,24.17,72.2,63.74,72.2,64.05-32.32,64.05-72.2Z"
                />
                <path
                  className="cls-2"
                  d="M1098.51,378.13v-37.77l115.5-146.98h-115.19v-41.23h176.74v38.4l-118.83,146.35h119.91v41.23h-178.14Z"
                />
                <path
                  className="cls-2"
                  d="M1435.76,220.45v157.68h-43.75v-225.97h51.62l98.51,149.81v-149.81h44.06v225.97h-46.89l-103.55-157.68Z"
                />
                <path
                  className="cls-2"
                  d="M1614.93,378.13v-225.97h88.44c56.97,0,90.01,26.44,90.01,73.33,0,30.53-18.88,54.76-50.99,65.46l58.22,87.18h-56.97l-50.99-79.94h-29.9v79.94h-47.84ZM1662.77,258.84h38.4c28.96,0,44.38-11.33,44.38-33.36s-15.42-33.68-44.38-33.68h-38.4v67.04Z"
                />
                <path className="cls-2" d="M1312.43,302.28l-7.05-150.13h57.89l-7.05,150.13h-43.79Z" />
                <path
                  className="cls-2"
                  d="M1362.55,349.92c0,7.79-3.17,14.84-8.26,19.95-5.11,5.09-12.16,8.26-19.95,8.26-15.6,0-28.23-12.63-28.23-28.21,0-7.79,3.15-14.84,8.26-19.95,5.11-5.11,12.18-8.28,19.97-8.28s14.84,3.17,19.95,8.28c5.09,5.11,8.26,12.16,8.26,19.95Z"
                />
              </g>
              <g>
                <path
                  className="cls-1"
                  d="M750.76,114.69h-34.94V25.4h33.58c18.78,0,30.34,8.46,30.34,23.75,0,8.21-4.6,14.8-12.56,18.9,9.95,3.48,15.42,10.57,15.42,20.39,0,16.54-12.19,26.24-31.84,26.24ZM732.98,40.32v20.77h14.92c9.2,0,13.93-3.98,13.93-10.45s-4.73-10.32-13.93-10.32h-14.92ZM732.98,76.14v23.63h16.29c10.2,0,15.54-4.48,15.54-12.06,0-7.09-5.35-11.57-15.54-11.57h-16.29Z"
                />
                <path
                  className="cls-1"
                  d="M811.2,114.69h-17.29V48.28h15.92v12.81c4.85-8.46,15.17-13.56,25.87-13.56v17.91c-14.67-1.12-24.5,2.36-24.5,17.04v32.21Z"
                />
                <path
                  className="cls-1"
                  d="M883.32,106.48c-4.35,6.22-10.94,9.45-20.02,9.45-13.8,0-23.01-8.08-23.01-20.52s10.45-19.9,29.85-19.9c3.73,0,6.96.25,11.07.75v-3.98c0-7.46-4.23-11.81-11.44-11.81s-11.94,4.35-12.56,11.81h-15.54c.99-15.3,12.06-25.25,28.1-25.25,17.41,0,27.61,9.58,27.61,25.87v41.79h-14.05v-8.21ZM867.03,103.99c8.83,0,14.18-4.85,14.18-12.56v-4.73c-4.1-.62-6.96-.87-9.95-.87-9.82,0-14.67,3.11-14.67,9.08,0,5.6,3.98,9.08,10.45,9.08Z"
                />
                <path
                  className="cls-1"
                  d="M928.71,114.69h-17.29V48.28h15.92v9.45c4.85-6.59,11.69-10.7,20.4-10.7,13.31,0,22.51,8.71,22.51,24.75v42.9h-17.16v-37.06c0-9.83-3.85-15.3-11.69-15.3-6.84,0-12.68,5.47-12.68,16.17v36.19Z"
                />
                <path
                  className="cls-1"
                  d="M1009.42,47.04c7.96,0,14.67,3.48,19.65,9.82v-31.46h17.16v89.29h-15.79v-9.58c-5.22,6.96-12.44,10.82-21.02,10.82-17.91,0-29.47-15.05-29.47-34.45s11.57-34.45,29.47-34.45ZM1013.27,100.51c8.58,0,15.67-6.72,15.67-19.28s-7.21-18.9-15.67-18.9-15.54,6.47-15.54,19.15,7.09,19.03,15.54,19.03Z"
                />
                <path
                  className="cls-1"
                  d="M1119.84,115.93c-22.51,0-36.56-12.06-37.93-30.96h19.15c.5,9.82,6.84,16.17,18.41,16.17,9.58,0,16.42-4.23,16.42-11.44,0-5.6-4.35-8.95-11.94-10.45l-14.67-2.86c-13.56-2.61-24-9.95-24-24.75,0-15.92,14.05-27.36,33.33-27.36s34.7,11.69,35.94,30.34h-19.15c-.62-9.33-7.09-15.67-16.54-15.67s-14.42,5.22-14.42,11.44,5.6,8.71,12.06,9.95l15.3,3.11c15.67,3.11,24.13,10.32,24.13,23.5,0,17.04-13.68,28.98-36.06,28.98Z"
                />
                <path
                  className="cls-1"
                  d="M1163.12,81.48c0-19.4,14.43-34.45,33.7-34.45s33.7,15.05,33.7,34.45-14.43,34.45-33.7,34.45-33.7-15.17-33.7-34.45ZM1212.74,81.48c0-12.31-7.34-19.03-15.92-19.03s-15.92,6.71-15.92,19.03,7.34,19.15,15.92,19.15,15.92-6.84,15.92-19.15Z"
                />
                <path className="cls-1" d="M1240.71,114.69V25.4h17.41v89.29h-17.41Z" />
                <path
                  className="cls-1"
                  d="M1313.21,48.28h17.16v66.41h-15.79v-8.71c-3.61,5.84-10.94,9.95-19.4,9.95-13.31,0-23.01-8.08-23.01-25.37v-42.28h17.29v38.92c0,9.33,4.6,13.43,11.57,13.43,6.22,0,12.19-4.97,12.19-13.93v-38.43Z"
                />
                <path
                  className="cls-1"
                  d="M1386.33,112.95c-4.23,2.11-8.21,2.98-13.31,2.98-13.68,0-22.26-7.83-22.26-22.76v-30.1h-13.43v-14.8h13.43v-19.65h17.16v19.65h19.03v14.8h-19.03v26.12c0,7.71,3.48,10.82,9.7,10.82,3.23,0,6.22-.75,8.71-2.11v15.05Z"
                />
                <path
                  className="cls-1"
                  d="M1405.11,43.06c-6.72,0-11.44-4.35-11.44-10.2s4.73-10.45,11.44-10.45,11.57,4.35,11.57,10.45-4.73,10.2-11.57,10.2ZM1396.65,114.69V48.28h17.29v66.41h-17.29Z"
                />
                <path
                  className="cls-1"
                  d="M1424.13,81.48c0-19.4,14.43-34.45,33.7-34.45s33.7,15.05,33.7,34.45-14.43,34.45-33.7,34.45-33.7-15.17-33.7-34.45ZM1473.75,81.48c0-12.31-7.34-19.03-15.92-19.03s-15.92,6.71-15.92,19.03,7.34,19.15,15.92,19.15,15.92-6.84,15.92-19.15Z"
                />
                <path
                  className="cls-1"
                  d="M1519.02,114.69h-17.29V48.28h15.92v9.45c4.85-6.59,11.69-10.7,20.4-10.7,13.31,0,22.51,8.71,22.51,24.75v42.9h-17.16v-37.06c0-9.83-3.85-15.3-11.69-15.3-6.84,0-12.68,5.47-12.68,16.17v36.19Z"
                />
                <path
                  className="cls-1"
                  d="M1703.5,115.93c-8.58,0-15.79-3.85-20.89-10.82v9.58h-15.92V25.4h17.29v31.46c4.85-6.47,11.57-9.82,19.52-9.82,17.91,0,29.47,14.8,29.47,34.45s-11.57,34.45-29.47,34.45ZM1699.64,62.33c-8.33,0-15.54,6.34-15.54,18.9s6.96,19.28,15.54,19.28,15.54-6.59,15.54-19.03-7.09-19.15-15.54-19.15Z"
                />
                <path
                  className="cls-1"
                  d="M1768.29,138.69h-18.78l9.45-24.75-26.12-65.66h18.65l16.66,45.52,15.17-45.52h17.29l-32.33,90.41Z"
                />
                <path
                  className="cls-1"
                  d="M1598.72,114.69c-18.56,0-28.94-8.92-30.28-23.45h16.24c.12,6.72,5.86,10.79,12.28,10.79,6.39,0,10.96-2.82,10.96-7.64,0-3.74-2.9-5.98-7.97-6.97l-9.79-1.91c-9.05-1.74-16.02-6.64-16.02-16.52,0-10.62,9.38-18.26,22.24-18.26s23.16,7.8,23.99,20.25h-16.24c-.42-6.22-4.73-10.46-11.04-10.46s-9.63,3.49-9.63,7.64,3.73,5.81,8.05,6.64l10.21,2.07c10.46,2.08,16.1,6.89,16.1,15.69,0,11.37-9.13,19.34-24.07,19.34Z"
                />
              </g>
            </g>
          </svg>
        </div>
      </div>

      {/* Mobile Hero with SVG */}
      <div className="md:hidden pt-70 px-2">
        <div className="w-full max-w-full overflow-hidden mb-8">
          <svg
            viewBox="0 0 507.62 498.58"
            xmlns="http://www.w3.org/2000/svg"
            className="w-full h-auto"
            preserveAspectRatio="xMidYMid meet"
          >
            <defs>
              <style>{`
                .cls-1 {
                  fill: ${isDark ? "#fff" : "#191919"};
                }
                .cls-2 {
                  fill: #ff5e17;
                }
              `}</style>
            </defs>
            <path
              className="cls-2"
              d="M74.85,430.54v45.61c-4.5-.65-9.55-1.85-14.85-4.02-21.08-8.62-31.63-26.57-35.51-34.17l-8.27,13.43v-50.69c8.1-6.27,18.27-10.01,29.31-10.01,2.61,0,5.18.21,7.68.62-8.11,13.08-16.21,26.16-24.31,39.24,1.16,1.02,2.8,2.32,4.91,3.62,5.89,3.61,11.27,4.55,12.72,4.78,1.85.29,6.88.92,13.1-.54,7.47-1.76,12.6-5.58,15.21-7.86Z"
            />
            <g>
              <path className="cls-2" d="M16.24,277.15v-84.08h17.8v68.04h36.54v16.04H16.24Z" />
              <path
                className="cls-2"
                d="M70.71,234.99c0-24.17,17.99-41.93,41.25-41.93s41.48,17.76,41.48,41.93-18.1,42.15-41.48,42.15-41.25-17.99-41.25-42.15ZM135.79,234.99c0-14.84-8.99-26.64-23.83-26.64s-23.72,11.8-23.72,26.64,8.99,26.87,23.72,26.87,23.83-12.03,23.83-26.87Z"
              />
              <path
                className="cls-2"
                d="M158.63,277.15v-14.05l42.98-54.69h-42.86v-15.34h65.76v14.29l-44.21,54.45h44.62v15.34h-66.28Z"
              />
              <path
                className="cls-2"
                d="M284.12,218.48v58.67h-16.28v-84.08h19.21l36.65,55.74v-55.74h16.39v84.08h-17.45l-38.53-58.67Z"
              />
              <path
                className="cls-2"
                d="M350.79,277.15v-84.08h32.91c21.2,0,33.49,9.84,33.49,27.29,0,11.36-7.03,20.38-18.97,24.36l21.66,32.44h-21.2l-18.97-29.74h-11.13v29.74h-17.8ZM368.59,232.76h14.29c10.77,0,16.51-4.22,16.51-12.41s-5.74-12.53-16.51-12.53h-14.29v24.94Z"
              />
              <path className="cls-2" d="M238.23,248.93l-2.62-55.86h21.54l-2.62,55.86h-16.29Z" />
              <path
                className="cls-2"
                d="M256.88,266.65c0,2.9-1.18,5.52-3.07,7.42-1.9,1.89-4.53,3.07-7.42,3.07-5.8,0-10.5-4.7-10.5-10.5,0-2.9,1.17-5.52,3.07-7.42,1.9-1.9,4.53-3.08,7.43-3.08s5.52,1.18,7.42,3.08c1.89,1.9,3.07,4.53,3.07,7.42Z"
              />
            </g>
            <g>
              <path
                className="cls-1"
                d="M39.56,82.03h-23.32V22.44h22.41c12.53,0,20.25,5.64,20.25,15.85,0,5.48-3.07,9.88-8.38,12.62,6.64,2.32,10.29,7.05,10.29,13.61,0,11.04-8.13,17.51-21.25,17.51ZM27.69,32.4v13.86h9.96c6.14,0,9.3-2.66,9.3-6.97s-3.15-6.89-9.3-6.89h-9.96ZM27.69,56.3v15.77h10.87c6.81,0,10.37-2.99,10.37-8.05,0-4.73-3.57-7.72-10.37-7.72h-10.87Z"
              />
              <path
                className="cls-1"
                d="M79.89,82.03h-11.54v-44.32h10.62v8.55c3.24-5.64,10.13-9.05,17.26-9.05v11.95c-9.79-.75-16.35,1.58-16.35,11.37v21.5Z"
              />
              <path
                className="cls-1"
                d="M128.03,76.55c-2.9,4.15-7.3,6.31-13.36,6.31-9.21,0-15.35-5.39-15.35-13.69s6.97-13.28,19.92-13.28c2.49,0,4.65.17,7.39.5v-2.66c0-4.98-2.82-7.88-7.64-7.88s-7.97,2.9-8.38,7.88h-10.37c.66-10.21,8.05-16.85,18.76-16.85,11.62,0,18.43,6.39,18.43,17.26v27.89h-9.38v-5.48ZM117.16,74.89c5.89,0,9.46-3.24,9.46-8.38v-3.15c-2.74-.42-4.65-.58-6.64-.58-6.56,0-9.79,2.08-9.79,6.06,0,3.74,2.66,6.06,6.97,6.06Z"
              />
              <path
                className="cls-1"
                d="M158.32,82.03h-11.54v-44.32h10.62v6.31c3.24-4.4,7.8-7.14,13.61-7.14,8.88,0,15.02,5.81,15.02,16.52v28.63h-11.45v-24.73c0-6.56-2.57-10.21-7.8-10.21-4.56,0-8.47,3.65-8.47,10.79v24.15Z"
              />
              <path
                className="cls-1"
                d="M212.18,36.88c5.31,0,9.79,2.32,13.11,6.56v-21h11.45v59.59h-10.54v-6.39c-3.49,4.65-8.3,7.22-14.03,7.22-11.95,0-19.67-10.04-19.67-22.99s7.72-22.99,19.67-22.99ZM214.76,72.57c5.73,0,10.46-4.48,10.46-12.86s-4.81-12.62-10.46-12.62-10.37,4.32-10.37,12.78,4.73,12.7,10.37,12.7Z"
              />
            </g>
            <g>
              <g>
                <path
                  className="cls-1"
                  d="M41.55,161.55c-15.02,0-24.4-8.05-25.31-20.67h12.78c.33,6.56,4.56,10.79,12.28,10.79,6.39,0,10.96-2.82,10.96-7.64,0-3.74-2.9-5.98-7.97-6.97l-9.79-1.91c-9.05-1.74-16.02-6.64-16.02-16.52,0-10.62,9.38-18.26,22.24-18.26s23.16,7.8,23.99,20.25h-12.78c-.42-6.22-4.73-10.46-11.04-10.46s-9.63,3.49-9.63,7.64,3.73,5.81,8.05,6.64l10.21,2.07c10.46,2.08,16.1,6.89,16.1,15.69,0,11.37-9.13,19.34-24.07,19.34Z"
                />
                <path
                  className="cls-1"
                  d="M70.43,138.56c0-12.95,9.63-22.99,22.49-22.99s22.49,10.04,22.49,22.99-9.63,22.99-22.49,22.99-22.49-10.13-22.49-22.99ZM103.55,138.56c0-8.22-4.9-12.7-10.62-12.7s-10.62,4.48-10.62,12.7,4.9,12.78,10.62,12.78,10.62-4.56,10.62-12.78Z"
                />
                <path className="cls-1" d="M122.22,160.72v-59.59h11.62v59.59h-11.62Z" />
                <path
                  className="cls-1"
                  d="M170.61,116.4h11.45v44.32h-10.54v-5.81c-2.41,3.9-7.3,6.64-12.95,6.64-8.88,0-15.35-5.39-15.35-16.93v-28.22h11.54v25.98c0,6.22,3.07,8.96,7.72,8.96,4.15,0,8.13-3.32,8.13-9.3v-25.65Z"
                />
                <path
                  className="cls-1"
                  d="M219.41,159.56c-2.82,1.41-5.48,1.99-8.88,1.99-9.13,0-14.86-5.23-14.86-15.19v-20.09h-8.96v-9.88h8.96v-13.11h11.45v13.11h12.7v9.88h-12.7v17.43c0,5.15,2.32,7.22,6.47,7.22,2.16,0,4.15-.5,5.81-1.41v10.04Z"
                />
                <path
                  className="cls-1"
                  d="M231.94,112.92c-4.48,0-7.64-2.9-7.64-6.81s3.15-6.97,7.64-6.97,7.72,2.9,7.72,6.97-3.15,6.81-7.72,6.81ZM226.3,160.72v-44.32h11.54v44.32h-11.54Z"
                />
                <path
                  className="cls-1"
                  d="M244.64,138.56c0-12.95,9.63-22.99,22.49-22.99s22.49,10.04,22.49,22.99-9.63,22.99-22.49,22.99-22.49-10.13-22.49-22.99ZM277.75,138.56c0-8.22-4.9-12.7-10.62-12.7s-10.62,4.48-10.62,12.7,4.9,12.78,10.62,12.78,10.62-4.56,10.62-12.78Z"
                />
                <path
                  className="cls-1"
                  d="M307.96,160.72h-11.54v-44.32h10.62v6.31c3.24-4.4,7.8-7.14,13.61-7.14,8.88,0,15.02,5.81,15.02,16.52v28.63h-11.45v-24.73c0-6.56-2.57-10.21-7.8-10.21-4.56,0-8.47,3.65-8.47,10.79v24.15Z"
                />
              </g>
              <path
                className="cls-1"
                d="M364.78,161.6c-12.63,0-19.69-6.06-20.6-15.95h11.05c.08,4.57,3.99,7.48,9.72,7.48,4.49,0,7.89-1.41,7.89-4.57,0-2.82-1.83-3.99-6.06-4.82l-7.98-1.49c-7.97-1.41-12.79-5.81-12.79-12.71,0-8.22,7.06-13.96,18.11-13.96s18.77,5.9,19.6,15.45h-11.05c-.41-4.32-3.65-6.98-8.56-6.98-4.24,0-7.06,1.58-7.06,4.4,0,2.66,1.83,3.74,5.81,4.49l8.56,1.58c8.64,1.66,13.04,5.65,13.04,12.05,0,9.3-7.06,15.04-19.69,15.04Z"
              />
              <g>
                <path
                  className="cls-1"
                  d="M426.57,161.6c-5.73,0-10.54-2.57-13.94-7.22v6.39h-10.62v-59.59h11.54v21c3.24-4.32,7.72-6.56,13.03-6.56,11.95,0,19.67,9.88,19.67,22.99s-7.72,22.99-19.67,22.99ZM423.99,125.82c-5.56,0-10.37,4.23-10.37,12.62s4.65,12.86,10.37,12.86,10.37-4.4,10.37-12.7-4.73-12.78-10.37-12.78Z"
                />
                <path
                  className="cls-1"
                  d="M469.81,176.78h-12.53l6.31-16.52-17.43-43.82h12.45l11.12,30.38,10.13-30.38h11.54l-21.58,60.34Z"
                />
              </g>
            </g>
          </svg>
        </div>
      </div>

      {/* Hidden Desktop/Tablet Hero */}
      <div className="hidden md:block px-3 md:px-6 lg:px-8 pb-5 md:pb-5">
        {/* Removed the hidden paragraph text about design on the web */}
      </div>
    </section>
  )
}
